<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>matplotlib font set - MetaHacks Wiki</title>
    <meta name="keywords" content="wiki, simiki, computer, cognitive,"/>
    <meta name="description" content="my personal wiki"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>

  <body>
    <div id="container">
      
<div id="header">
  <div class="post-nav"><a href="/">Home</a>&nbsp;&#187;&nbsp;<a href="/#tools">tools</a>&nbsp;&#187;&nbsp;matplotlib font set
    <span class="updated">Updated&nbsp;
      2017-03-25 19:54
    </span></div>
</div>
<div class="clearfix"></div>

<div class="page_title">matplotlib font set</div>

  <h1 id="matplotlib-font-set">matplotlib font set</h1>
<p>ubuntu16.04 环境下直接使用　matplotlib 绘图输出中文可能会出现乱码的现象，需要设置相应的字体！ 如果没有字体以及没有配置　matplotlibrc 文件和　删除　fontList.cache　缓存，直接在代码中使用
<code>mpl.rcParams['font.sans-serif'] = 'simhei'</code> 是无效的，需要同时满足三个条件.</p>
<p>如果你在其他工具和包中出现需要中文字体的问题，这个思路应该也是行的通的．</p>
<h2 id="_1">下载中文字体</h2>
<p>如果你要显示中文，当然中文的字体必不可少，字体在 Ubuntu 和　Windows 平台下应该是通用的，一般都使用 .ttf 后缀的文件格式.首先到<a href="http://www.myfontfree.com/microsoft-yahei-myfontfreecom66f594.htm">myfontfree</a>下载chinese.msyh.ttf字体，将其拷贝到/usr/share/fonts 目录下面，但一般还不够，你需要再把字体拷贝到工具安装包相应的字体目录下面，matplotlib 具体安装目录是</p>
<div class="hlcode"><pre><span class="n">python2</span><span class="mf">.7</span> <span class="err">和　</span><span class="n">python3</span><span class="mf">.5</span><span class="err">类似，就是版本变了</span>

<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python2</span><span class="mf">.7</span><span class="o">/</span><span class="n">dist</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">matplotlib</span><span class="o">/</span><span class="n">mpl</span><span class="o">-</span><span class="n">data</span><span class="o">/</span><span class="n">fonts</span><span class="o">/</span><span class="n">ttf</span><span class="o">/</span>

<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.5</span><span class="o">/</span><span class="n">dist</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">matplotlib</span><span class="o">/</span><span class="n">mpl</span><span class="o">-</span><span class="n">data</span><span class="o">/</span><span class="n">fonts</span><span class="o">/</span><span class="n">ttf</span><span class="o">/</span>
</pre></div>


<p>当然也可以使用软链接的形式,在安装包字体目录下面，<code>sudo ln -s /usr/share/font/simhei.ttf simhei.ttf</code> </p>
<h2 id="matplotlibrc">设置配置文件　matplotlibrc</h2>
<p>修改配置文件　<code>/usr/local/lib/python2.7/dist-packages/matplotlib/mpl-data/matplotlibrc</code>, 取消注释
font.family, 和　font.sans-serif, 并在　font.sans-serif 后面添加　<code>Microsoft YaHei</code></p>
<h2 id="matplotlib">删除 matplotlib 字体缓存</h2>
<p>python2 删除　<code>sudo rm ~/.cache/matplotlib/fontList.cache</code>，python3 删除　<code>sudo rm ~/.cache/matplotlib/fontList.py3k.cache</code></p>
    </div>
    <div id="footer">
      <span>
        <p>Copyright © 2017 田奇.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.</p>
        <p>Site Generated 2017-05-08 16:56:54</p>
      </span>
    </div>
  </body>
</html>